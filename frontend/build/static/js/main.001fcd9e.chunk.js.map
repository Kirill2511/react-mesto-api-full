{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/SubmitButton.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeletePopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/auth.js","components/ProtectedRoute.js","images/authSuccess.svg","images/authError.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggingIn","userEmail","onSignOut","className","alt","src","logo","exact","path","to","onClick","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","aria-label","name","type","onCardDelete","link","onCardClick","onCardLike","length","Main","onEditAvatar","srcSet","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","api","config","this","url","headers","res","ok","json","Promise","reject","status","fetch","getHeaders","then","_getResponseData","method","item","body","JSON","stringify","data","cardID","cardId","token","localStorage","getItem","Authorization","Accept","PopupWithForm","isOpen","title","onSubmit","action","noValidate","children","SubmitButton","button","EditAvatarPopup","changeAvatar","useRef","isClose","e","preventDefault","onUpdateAvatar","current","value","ref","id","placeholder","required","isLoading","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","event","target","maxLength","minLength","DeletePopup","onDelete","AddPlacePopup","setNameCard","setLinkCard","postNewCard","evt","autoComplete","Login","onLogin","email","password","setData","handleChange","Register","onRegister","InfoTooltip","image","message","BASE_URL","checkResponse","ProtectedRoute","App","setIsLoading","isEditProfilePopupOpen","setEditProfile","isEditAvatarPopupOpen","setEditAvatar","isAddPlacePopupOpen","setAddCard","deletedCard","setDeletedCard","isPopupWithDeleteOpen","setPopupWithDelete","selectedCard","setSelectedCard","isPopupImageOpen","setPopupImage","setCurrentUser","setCards","setLoggingIn","setEmail","isInfoTooltipOpen","setIsInfoTooltipOpen","tooltipImage","setTooltipImage","setMessage","history","useHistory","tokenCheck","jwt","push","catch","error","console","log","closeAllPopups","handlerEscClose","key","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","all","getInitialCards","getUserInfo","err","Provider","removeItem","likeAction","dislikeCard","likeCard","changedCard","newCards","currentCard","auth","setItem","authError","authSuccess","setUserAvatar","finally","items","setUserInfo","newPlace","newCard","deleteCard","filter","c","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.001fcd9e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react';\nimport { Link, Route } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nfunction Header({ loggingIn, userEmail, onSignOut }) {\n  return (\n    <header className=\"header\">\n      <img alt=\"Логотип «Mesto Russia»\" className=\"header__logo\" src={logo} />\n      <div className=\"header__section\">\n        {loggingIn && (\n          <Route exact path=\"/\">\n            <p className=\"header__email\">{userEmail}</p>\n            <Link\n              to=\"/signin\"\n              className=\"header__button-logout\"\n              onClick={onSignOut}\n            >\n              Выйти\n            </Link>\n          </Route>\n        )}\n        <Route path=\"/signin\">\n          <Link to=\"/signup\" className=\"header__link\">\n            Регистрация\n          </Link>\n        </Route>\n        <Route path=\"/signup\">\n          <Link to=\"/signin\" className=\"header__link\">\n            Вход\n          </Link>\n        </Route>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner === currentUser._id;\n\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? '' : 'element__delete_invisible'\n  }`;\n\n  const isLiked = (props.card.likes.some((i) => i === currentUser._id));\n\n  const cardLikeButtonClassName = `element__heart ${\n    isLiked ? 'element__heart_active' : ''\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"element\">\n      <button\n        aria-label=\"Удалить\"\n        className={cardDeleteButtonClassName}\n        name=\"Удалить\"\n        type=\"submit\"\n        onClick={handleCardDelete}\n      />\n      <img\n        src={props.card.link}\n        alt={props.card.name}\n        className=\"element__image\"\n        onClick={handleClick}\n      />\n      <div className=\"element__container\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__container_like\">\n          <button\n            aria-label=\"Лайк\"\n            className={cardLikeButtonClassName}\n            name=\"Лайк\"\n            type=\"submit\"\n            onClick={handleLikeClick}\n          />\n          <p className=\"card__count-likes\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button\n          className=\"button profile__edit-avatar\"\n          type=\"button\"\n          onClick={props.onEditAvatar}\n        >\n          <img\n            alt=\"жак-ив\"\n            className=\"profile__avatar\"\n            srcSet={currentUser.avatar}\n          />\n        </button>\n        <div className=\"profile__info\">\n          <div className=\"profile__wrapper\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button\n              aria-label=\"Редактировать профиль\"\n              className=\"profile__edit-button\"\n              type=\"button\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          aria-label=\"Добавить карточку\"\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__container\">\n          {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_card-image ${card && 'popup_opened'}`}>\n      <div className=\"popup__gallery\">\n        <img\n          src={card && card.link}\n          alt={card && card.name}\n          className=\"popup__image\"\n        />\n        <h2 className=\"popup__card-about\">{card && card.name}</h2>\n        <button\n          aria-label=\"Закрыть\"\n          className=\"popup__close-icon\"\n          type=\"button\"\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","export default class Api {\n  constructor(config) {\n    this.url = config.url;\n    this.headers = config.headers;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) return res.json();\n    return Promise.reject(res.status);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      headers: this.getHeaders(),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n      method: 'GET',\n      headers: this.getHeaders(),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  postNewCard(item) {\n    return fetch(`${this.url}/cards`, {\n      method: 'POST',\n      headers: this.getHeaders(),\n      body: JSON.stringify(item),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: 'PATCH',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteCard(cardID) {\n    return fetch(`${this.url}/cards/${cardID}`, {\n      method: 'DELETE',\n      headers: this.getHeaders(),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: this.getHeaders(),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  dislikeCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this.getHeaders(),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getHeaders() {\n    const token = localStorage.getItem('jwt');\n    return {\n      ...this.headers,\n      Authorization: `Bearer ${token}`,\n    };\n  }\n}\n\nexport const api = new Api({\n  url: 'https://api.kirill251111.students.nomoredomains.work',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json;charset=utf-8',\n  },\n});\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup__${props.name} ${\n        props.isOpen ? 'popup_opened' : ''\n      }`}\n    >\n      <div className=\"popup__container\">\n        <button\n          aria-label=\"Закрыть\"\n          className=\"popup__close-icon popup__close\"\n          type=\"button\"\n          onClick={props.onClose}\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          className=\"popup__fields popup__form-avatar\"\n          name={`${props.name}`}\n          onSubmit={props.onSubmit}\n          action=\"#\"\n          noValidate\n        >\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction SubmitButton(props) {\n  return (\n    <button type=\"submit\" className={'popup__button'}>\n      {props.onClick ? 'Сохранение...' : props.button}\n    </button>\n  );\n}\n\nexport default SubmitButton;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport SubmitButton from './SubmitButton';\n\nfunction EditAvatarPopup(props) {\n  const changeAvatar = React.useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: changeAvatar.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__label\">\n        <input\n          className=\"popup__item popup__input_avatar-link\"\n          ref={changeAvatar}\n          id=\"link-avatar\"\n          name=\"avatar\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          type=\"url\"\n        />\n        <span className=\"popup__input-error\" id=\"link-avatar-error\" />\n      </label>\n\n      <SubmitButton button=\"Сохранить\" onClick={props.isLoading} />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\nimport SubmitButton from './SubmitButton';\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser.about, currentUser.name]);\n\n  function handleChangeName(event) {\n    setName(event.target.value);\n  }\n\n  function handleChangeDescription(event) {\n    setDescription(event.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmit}\n    >\n      <label className=\"popup__label\">\n        <input\n          value={name || ''}\n          onChange={handleChangeName}\n          className=\"popup__item popup__name\"\n          id=\"name-input\"\n          maxLength=\"40\"\n          minLength=\"2\"\n          name=\"name\"\n          placeholder=\"Имя\"\n          required\n          type=\"text\"\n        />\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\n      </label>\n      <label className=\"popup__label\">\n        <input\n          value={description || ''}\n          onChange={handleChangeDescription}\n          className=\"popup__item popup__about\"\n          id=\"activity-input\"\n          maxLength=\"200\"\n          minLength=\"2\"\n          name=\"about\"\n          placeholder=\"Обо мне\"\n          required\n          type=\"text\"\n        />\n        <span className=\"popup__input-error\" id=\"activity-input-error\" />;\n      </label>\n\n      <SubmitButton button=\"Сохранить\" onClick={props.isLoading} />\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeletePopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onDelete(props.card);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"delete\"\n      title=\"Вы уверены?\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmit}\n    >\n      <button\n        aria-label=\"Да\"\n        className=\"popup__button popup__button_card-delete\"\n        name=\"submit\"\n        type=\"submit\"\n      >\n        {props.isLoading ? 'Удаление...' : 'Да'}\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default DeletePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport SubmitButton from './SubmitButton';\n\nfunction AddPlacePopup(props) {\n  const [name, setNameCard] = React.useState('');\n  const [link, setLinkCard] = React.useState('');\n\n  function handleSubmitCard(e) {\n    e.preventDefault();\n    props.postNewCard({\n      name, link,\n    });\n  }\n\n  function handleNameCard(evt) {\n    setNameCard(evt.target.value);\n  }\n\n  function handleLinkCard(evt) {\n    setLinkCard(evt.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"addCard\"\n      title=\"Новое место\"\n      isOpen={props.isOpen}\n      onClose={props.isClose}\n      onSubmit={handleSubmitCard}\n    >\n      <label className=\"popup__label\">\n        <input\n          value={name || ''}\n          onChange={handleNameCard}\n          id=\"name\"\n          className=\"popup__item popup__input-name\"\n          type=\"text\"\n          name=\"name\"\n          required\n          placeholder=\"Название\"\n          minLength=\"1\"\n          maxLength=\"30\"\n          autoComplete=\"off\"\n        />\n        <span className=\"popup__input-error\" id=\"place-input-error\" />\n      </label>\n      <label className=\"popup__label\">\n        <input\n          value={link || ''}\n          onChange={handleLinkCard}\n          className=\"popup__item popup__input-url\"\n          id=\"link\"\n          type=\"url\"\n          name=\"link\"\n          required\n          placeholder=\"Ссылка на картинку\"\n          autoComplete=\"off\"\n        />\n        <span className=\"popup__input-error\" id=\"link-input-error\" />\n      </label>\n      <SubmitButton button=\"Создать\" onClick={props.isLoading} />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Login({ onLogin }) {\n  const [data, setData] = React.useState({ email: '', password: '' });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = data;\n    onLogin(email, password);\n  };\n\n  return (\n    <section className=\"auth\">\n      <div className=\"auth-container\">\n        <h3 className=\"auth__title\">Вход</h3>\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\n          <input\n            onChange={handleChange}\n            className=\"auth__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            autoComplete=\"off\"\n            value={data.email}\n          />\n          <input\n            onChange={handleChange}\n            className=\"auth__input\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n            value={data.password}\n          />\n          <button className=\"auth__button-submit\" type=\"submit\">\n            Войти\n          </button>\n          <div className=\"auth__container-register\">\n            <p className=\"auth__register\">\n              Еще не зарегистрированы?\n              <Link to=\"/signup\" className=\"auth__link\">\n                &nbsp;Зарегистрироваться\n              </Link>\n            </p>\n          </div>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ onRegister }) {\n  const [data, setData] = React.useState({ email: '', password: '' });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = data;\n    onRegister(email, password);\n  };\n\n  return (\n    <section className=\"auth\">\n      <div className=\"auth__container\">\n        <h3 className=\"auth__title\">Регистрация</h3>\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\n          <input\n            onChange={handleChange}\n            className=\"auth__input\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            autoComplete=\"off\"\n            value={data.email}\n          />\n          <input\n            className=\"auth__input\"\n            onChange={handleChange}\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n            value={data.password}\n          />\n          <button className=\"auth__button-submit\" type=\"submit\">\n            Зарегистрироваться\n          </button>\n          <div className=\"auth__container-register\">\n            <p className=\"auth__register\">\n              Уже зарегистрированы?\n              <Link to=\"/signin\" className=\"auth__link\">\n                &nbsp;Войти\n              </Link>\n            </p>\n          </div>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default Register;\n","import React from 'react';\n\nfunction InfoTooltip({\n  onClose, isOpen, image, message,\n}) {\n  return (\n    <section className={`popup popup__tooltip ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <img className=\"popup__tooltip\" src={image} alt=\"Статус\" />\n        <h2 className=\"popup__tooltip-message\">{message}</h2>\n        <button\n          aria-label=\"Закрыть\"\n          className=\"popup__close-icon\"\n          type=\"button\"\n          onClick={onClose}\n        />\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","export const BASE_URL = 'https://api.kirill251111.students.nomoredomains.work';\n\nconst checkResponse = (res) => {\n  if (res.ok) return res.json();\n  return Promise.reject(res.status);\n};\n\nexport const register = (email, password) => fetch(`${BASE_URL}/signup`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n}).then(checkResponse);\n\nexport const authorize = (email, password) => fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n}).then(checkResponse);\n\nexport const checkToken = (token) => fetch(`${BASE_URL}/users/me`, {\n  method: 'GET',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${token}`,\n  },\n}).then(checkResponse);\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ loggingIn, ...props }) => (\n  <Route>\n    {\n      () => (loggingIn ? <Route {...props} /> : <Redirect to=\"/signin\" />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/authSuccess.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/authError.df8eddf6.svg\";","import React from 'react';\nimport {\n  Switch, Route, Redirect, useHistory,\n} from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport { api } from '../utils/api';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport DeletePopup from './DeletePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport authSuccess from '../images/authSuccess.svg';\nimport authError from '../images/authError.svg';\n\nfunction App() {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfile] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatar] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddCard] = React.useState(false);\n  const [deletedCard, setDeletedCard] = React.useState(null);\n  const [isPopupWithDeleteOpen, setPopupWithDelete] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [isPopupImageOpen, setPopupImage] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  const [loggingIn, setLoggingIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [tooltipImage, setTooltipImage] = React.useState('');\n  const [message, setMessage] = React.useState('');\n  const history = useHistory();\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((res) => {\n          if (res) {\n            setEmail(res.data.email);\n            setLoggingIn(true);\n            history.push('/');\n          }\n        })\n        .catch((error) => {\n          if (error === 400) console.log('Токен не передан или не верен');\n          if (error === 401) console.log('Токен не корректен');\n          setLoggingIn(false);\n        });\n    }\n  }\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  function onRegister(email, password) {\n    auth\n      .register(email, password)\n      .then((res) => {\n        if (res.data.email) {\n          setLoggingIn(true);\n          setIsInfoTooltipOpen(true);\n          setTooltipImage(authSuccess);\n          setMessage('Вы успешно зарегистрировались!');\n          history.push('/signin');\n        }\n      })\n      .catch((error) => {\n        setIsInfoTooltipOpen(true);\n        setTooltipImage(authError);\n        setMessage('Что-то пошло не так! Попробуйте ещё раз.');\n        if (error === 'Ошибка: 400') console.log('некорректно заполнены данные');\n      });\n  }\n\n  function onLogin(email, password) {\n    auth\n      .authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('jwt', res.token);\n          setEmail(email);\n          history.push('/');\n          setLoggingIn(true);\n        }\n      })\n      .catch((error) => {\n        setIsInfoTooltipOpen(true);\n        setTooltipImage(authError);\n        setMessage('Что-то пошло не так! Попробуйте ещё раз.');\n        if (error === 'Ошибка: 400') {\n          console.log('не передано одно из полей');\n        } else if (error === 'Ошибка: 401') {\n          console.log('Пользователь с данным email не найден');\n        }\n      });\n  }\n\n  function onSignOut() {\n    localStorage.removeItem('jwt');\n    setLoggingIn(false);\n    setEmail('');\n    history.push('/signin');\n  }\n\n  function handleEditProfileClick() {\n    setEditProfile(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatar(true);\n  }\n\n  function handleAddCardClick() {\n    setAddCard(true);\n  }\n\n  function handleCardClick(card) {\n    setPopupImage(true);\n    setSelectedCard(card);\n  }\n\n  function handleDeleteClick(card) {\n    setPopupWithDelete(true);\n    setDeletedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditProfile(false);\n    setEditAvatar(false);\n    setAddCard(false);\n    setPopupImage(false);\n    setPopupWithDelete(false);\n    setSelectedCard(null);\n    setDeletedCard(null);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handlerEscClose(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  function closeByOverlay(evt) {\n    if (evt.target.classList.contains('popup')) {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('keydown', handlerEscClose);\n    document.addEventListener('click', closeByOverlay);\n    return () => {\n      document.removeEventListener('keydown', handlerEscClose);\n      document.removeEventListener('click', closeByOverlay);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then(([cards, userData]) => {\n        const { data } = userData;\n        setCurrentUser({\n          _id: data._id,\n          name: data.name,\n          about: data.about,\n          avatar: data.avatar,\n        });\n        setCards(cards.map((item) => ({\n          name: item.name,\n          link: item.link,\n          likes: item.likes,\n          owner: item.owner,\n          id: item._id,\n        })));\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const handleCardLike = (card) => {\n    const isLiked = (card.likes.some(\n      (i) => i === currentUser._id,\n    ));\n    const likeAction = isLiked ? 'удалить' : 'поставить';\n    const likeFunc = isLiked ? (id) => api.dislikeCard(id) : (id) => api.likeCard(id);\n\n    likeFunc(card.id)\n      .then(({ data }) => {\n        const changedCard = {\n          name: data.name, link: data.link, likes: data.likes, owner: data.owner, id: data._id,\n        };\n        const newCards = cards.map((currentCard) => (\n          currentCard.id === card.id ? changedCard : currentCard\n        ));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(`Невозможно ${likeAction} лайк. Ошибка ${err}.`);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoading(true);\n    api\n      .deleteCard(card.id)\n      .then(() => {\n        const newCards = cards.filter((c) => c.id !== card.id);\n        setCards(newCards);\n        console.log(`Карточка ${card.id} удалена.`);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(`Невозможно удалить карточку. Ошибка ${err}.`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  function handleUpdateUser(items) {\n    setIsLoading(true);\n    api\n      .setUserInfo(items)\n      .then(({ data }) => {\n        setCurrentUser({\n          ...currentUser,\n          name: data.name,\n          about: data.about,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(item) {\n    setIsLoading(true);\n    api\n      .setUserAvatar(item)\n      .then(({ data }) => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: data.avatar,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(newPlace) {\n    setIsLoading(true);\n    api\n      .postNewCard({ name: newPlace.name, link: newPlace.link })\n      .then(({ data }) => {\n        const newCard = {\n          name: data.name,\n          link: data.link,\n          likes: data.likes,\n          owner: data.owner,\n          id: data._id,\n        };\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header loggingIn={loggingIn} userEmail={email} onSignOut={onSignOut} />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" loggingIn={loggingIn}>\n            <Main\n              cards={cards}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddCardClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteClick}\n            />\n          </ProtectedRoute>\n          <Route path=\"/signin\">\n            <Login onLogin={onLogin} />\n          </Route>\n          <Route path=\"/signup\">\n            <Register onRegister={onRegister} />\n          </Route>\n          <Route path=\"/\">\n            {\n              loggingIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />\n            }\n          </Route>\n        </Switch>\n        <Footer />\n\n        {/* Попат обновления аватара */}\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          isClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        {/* Попат редактирования профиля */}\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        {/* Попат добавления карточки */}\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isClose={closeAllPopups}\n          postNewCard={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        {/* Попат подтверждения */}\n        <DeletePopup\n          isOpen={isPopupWithDeleteOpen}\n          isClose={closeAllPopups}\n          onDelete={handleCardDelete}\n          card={deletedCard}\n          isLoading={isLoading}\n        />\n\n        {/* Попат увеличения картинки */}\n        <ImagePopup\n          isOpen={isPopupImageOpen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n        />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          image={tooltipImage}\n          message={message}\n          loggingIn={loggingIn}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}